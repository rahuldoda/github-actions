name: My First GitHub Action

on: [push] # This workflow runs on every push to the repository

jobs:
 # Job 1: Linting
 lint:
    runs-on: ubuntu-latest # Or windows-latest, or macOS-latest, depending on your preference

    steps:
      - name: Checkout Code
        uses: actions/checkout@v4 # Action to check out your repository's code

      - name: Set up Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20' # Specify the Node.js version suitable for your Angular project
          cache: 'npm' # Cache npm dependencies for faster installs
          cache-dependency-path: 'package-lock.json' # Path to your package-lock.json

      - name: Install Dependencies
        run: npm ci # Use 'npm ci' for clean installs in CI/CD environments

      - name: Run Angular Lint
        run: npm run lint # Executes the 'lint' script defined in your package.json
        # If your lint command is specific to a project in a monorepo, you might use:
        # run: ng lint your-project-name
        # Or if it's a specific configuration:
        # run: ng lint --configuration production
 # Job 2: build
  build: # This is the ID of our job
    runs-on: ubuntu-latest # The type of runner that the job will run on (Linux in this case)

    steps: # Sequence of tasks that will be executed
      - name: Checkout repository
        uses: actions/checkout@v4 # This action checks out your repository under $GITHUB_WORKSPACE, so your workflow can access it.

      - name: Run a simple command
        run: echo "Hello from GitHub Actions! This workflow was triggered by a push."

      - name: List files (executed on Ubuntu runner)
        run: ls -la # This command will run on the Ubuntu runner, not your local Windows CMD
